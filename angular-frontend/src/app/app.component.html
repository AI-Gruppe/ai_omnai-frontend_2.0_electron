<div class="flex h-screen bg-gray-100">
  <!-- Seitenmenü -->
  <!-- <aside class="w-64 bg-gray-800 text-white flex flex-col">
    <h1 class="p-4 text-xl font-bold border-b border-gray-700">omnAI Scopes</h1>

    <nav class="flex flex-col p-4 space-y-2">
      <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-left">
        Verbindung
      </button>
      <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-left">
        Einstellungen
      </button>
      <button class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-left">
        Geräteauswahl
      </button>
      <button class="px-4 py-2 bg-red-600 hover:bg-red-500 rounded text-left">
        Verbindung trennen
      </button>
    </nav>
  </aside> -->

  <!-- Hauptinhalt -->
  <main class="flex-1 flex flex-col p-4 space-y-4">
    <!-- Steuerleiste oben -->
    <div
      class="flex justify-between items-center bg-white p-3 rounded shadow max-h-48"
    >
      <app-device-selection #devices />
    </div>

    <!-- Graph-Container -->
    <div
      class="flex-1 bg-white shadow rounded p-4 flex justify-center items-center"
    >
      @let dataSet = devices.dataService.data() | keyvalue;
      @defer (when dataSet.length > 0; on idle) {
        <!-- Graph wird nur geladen, wenn Daten vorhanden sind -->
        <app-graph [dataSeries]="devices.dataService.data()"></app-graph>
      } @loading {
        <p class="text-gray-500">Warte auf Daten...</p>
      } @error {
        <p class="text-red-500">Fehler beim Laden der Daten.</p>
      }
    </div>
  </main>
</div>
